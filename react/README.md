# React/JSX Style Guide

*Inspired by the [AirBnB](https://github.com/airbnb/javascript) style guide*

## Table of Contents

  1. [Promises vs Async](#promises-vs-async)
  1. [Keys for Lists of JSX](#keys-for-lists-of-jsx)

## Promises

  - Use async/await (with try/catch), rather than chain syntax, where possible

```javascript
  // DO:
  const coolAsyncAwaitPromise = async () => {
    try {
      const data = await functionThatReturnsPromise()
      doTheNextThing(data)
    } catch (error) {
      console.error(error)
    }

  // DON'T:
  const ickyChainedPromise = () => {
    functionThatReturnsPromise()
      .then(data => {
        doTheNextThing(data)
      })
      .catch(error => {
        console.error(error)
      })
  }

  // NOTE: when iterable promise structures are necessary,
  // chain syntax may be necessary, e.g. Promise.map()
```

  > Why?

## Keys for Lists of JSX

  - Use something other than list indices as keys for lists of JSX elts generated by mapping.

  ```javascript
  // DO:
  import uuid from 'node-uuid'
  {
      things.map(thing => <COMPONENT key={uuid.v4()} />)
  }     // or key= {thing.field} where thing.field is unique among things.

  // DON'T:
  {
      things.map((thing,i) => <COMPONENT key={i} />)
  }
  ```

  > Why?- [Index as a key is an anti-pattern - Robin Pokorny](https://medium.com/@robinpokorny/index-as-a-key-is-an-anti-pattern-e0349aece318)
  
## Naming Handler Functions

  - When a handler function is defined use "handle" (for example: `handleSaveCell`)
  - When a handler function is passed down as a prop use "on" (for example: `onSaveCell`)
  - This helps when locating the function definition via search or otherwise

## Component Structure

  - Top of File:
    - Import `React, {Component, PropTypes}`
    - Import `connect`, `bindActionCreators` (if needed)
    - Import Libraries (ex: `classnames`, `moment`)
    - Import Components
    - Import Action Creators
    - Import Constants
  - Component Definition
    - React lifecycle functions should be at top of list
    - `render()` at bottom of list
  - Bottom of File:
    - Destructure PropTypes
    - Default Props
    - Props Validations
    - `mapStateToProps`
    - `mapDispatchToProps`
    - Export
